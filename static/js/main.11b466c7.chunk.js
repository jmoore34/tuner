(this.webpackJsonptuner=this.webpackJsonptuner||[]).push([[0],{287:function(e,t,n){e.exports=n(530)},295:function(e,t,n){},524:function(e,t,n){e.exports=n.p+"static/media/logo.ee7cd8ed.svg"},525:function(e,t,n){},526:function(e,t,n){},530:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(74),o=n.n(c),i=(n(295),n(296),n(55)),s=n(56),l=n(59),u=n(58),m=n(19),d=(n(524),n(525),n(62)),h=n(48),p=(n(526),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{class:"buttonGrid"},this.props.rows.map((function(e){return r.a.createElement("div",null,e)})))}}]),n}(a.Component)),f=n(188),v=n.n(f),g=[{name:"A",displayNames:["A","A"],step:0},{name:"Bb",displayNames:["B\u266d","A\u266f"],step:1},{name:"B",displayNames:["B","B"],step:2},{name:"C",displayNames:["C","C"],step:3},{name:"Db",displayNames:["D\u266d","C\u266f"],step:4},{name:"D",displayNames:["D","D"],step:5},{name:"Eb",displayNames:["E\u266d","D\u266f"],step:6},{name:"E",displayNames:["E","E"],step:7},{name:"F",displayNames:["F","F"],step:8},{name:"Gb",displayNames:["G\u266d","F\u266f"],step:9},{name:"G",displayNames:["G","G"],step:10},{name:"Ab",displayNames:["A\u266d","G\u266f"],step:11}],y=[{name:"sine",displayName:"Sine"},{name:"triangle",displayName:"Triangle"},{name:"square",displayName:"Square"},{name:"sawtooth",displayName:"Sawtooth"}],N=[2,3,4,5,6];var b=new v.a.PolySynth(N.length*g.length,v.a.Synth).toMaster();b.set({envelope:{attack:.1,decay:2,sustain:.2,release:1},oscillator:{type:"sine"}});var k=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(i.a)(this,n),(e=t.call(this)).state={pitchCenter:440,currentNoteNames:[],currentOctaves:[4],currentNoteDisplayTypeIndex:0,waveform:"sine"},e.flipNotation=e.flipNotation.bind(Object(h.a)(e)),e.resetNoteNames=e.resetNoteNames.bind(Object(h.a)(e)),e.toggleOctave=e.toggleOctave.bind(Object(h.a)(e)),e.resetOctaves=e.resetOctaves.bind(Object(h.a)(e)),e.setAllOctaves=e.setAllOctaves.bind(Object(h.a)(e)),e.handleFrequencyInputChange=e.handleFrequencyInputChange.bind(Object(h.a)(e)),e}return Object(s.a)(n,[{key:"getNoteButtons",value:function(e,t){for(var n=[],a=e;a<=t;++a)n=[].concat(Object(d.a)(n),[this.getNoteButton(a)]);return n}},{key:"getNoteButton",value:function(e){var t=this;return r.a.createElement(m.a,{className:"noround",key:e,active:this.state.currentNoteNames.includes(g[e]),onClick:function(){return t.toggleNoteName(g[e])},content:g[e].displayNames[this.state.currentNoteDisplayTypeIndex],toggle:!0})}},{key:"generateNoteButtonColumns",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,n=[],a=0;a<t;a+=1){for(var c=[],o=0;o<e;++o)c=[].concat(Object(d.a)(c),[this.getNoteButton(a+t*o)]);n=[].concat(Object(d.a)(n),[r.a.createElement(m.a.Group,{key:a,vertical:!0},c)])}return n}},{key:"flipNotation",value:function(){this.setState({currentNoteDisplayTypeIndex:1===this.state.currentNoteDisplayTypeIndex?0:1})}},{key:"toggleNoteName",value:function(e){this.state.currentNoteNames.includes(e)?this.setState({currentNoteNames:this.state.currentNoteNames.filter((function(t){return t!==e}))}):this.setState({currentNoteNames:[].concat(Object(d.a)(this.state.currentNoteNames),[e])})}},{key:"resetNoteNames",value:function(){this.setState({currentNoteNames:[]})}},{key:"toggleOctave",value:function(e){this.state.currentOctaves.includes(e)?this.setState({currentOctaves:this.state.currentOctaves.filter((function(t){return t!==e}))}):this.setState({currentOctaves:[].concat(Object(d.a)(this.state.currentOctaves),[e])})}},{key:"resetOctaves",value:function(){this.setState({currentOctaves:[]})}},{key:"setAllOctaves",value:function(){this.setState({currentOctaves:N})}},{key:"handleFrequencyInputChange",value:function(e){this.setState({pitchCenter:e.target.value})}},{key:"deltaFrequency",value:function(e){this.setState({pitchCenter:e+Number(this.state.pitchCenter)})}},{key:"setWaveform",value:function(e){this.setState({waveform:e})}},{key:"getFrequencies",value:function(e){var t=[];return e.currentNoteNames.forEach((function(n){e.currentOctaves.forEach((function(a){t=[].concat(Object(d.a)(t),[e.pitchCenter*Math.pow(2,a-4+n.step/12)])}))})),t}},{key:"render",value:function(){for(var e=this,t=[],n=function(n){t=[].concat(Object(d.a)(t),[r.a.createElement(m.a,{content:n,onClick:function(){return e.toggleOctave(n)},key:n,active:e.state.currentOctaves.includes(n),toggle:!0})])},a=2;a<=6;++a)n(a);return r.a.createElement(m.f,{className:"widget"},r.a.createElement(m.d,{size:"huge"},"Tuner"),r.a.createElement(m.b,null,r.a.createElement(m.b.Field,null,r.a.createElement("label",null,"Pitch center"),r.a.createElement(m.e,{fluid:!0,type:"number",placeholder:"Hz",action:!0,size:"huge",value:this.state.pitchCenter,onChange:this.handleFrequencyInputChange,label:"Hz",labelPosition:"left corner"},r.a.createElement("input",{className:"pitch-center"}),r.a.createElement(m.a,{type:"submit",onClick:function(){return e.deltaFrequency(-10)}},"-10"),r.a.createElement(m.a,{type:"submit",onClick:function(){return e.deltaFrequency(-1)}},"-1"),r.a.createElement(m.a,{type:"submit",onClick:function(){return e.deltaFrequency(1)}},"+1"),r.a.createElement(m.a,{type:"submit",onClick:function(){return e.deltaFrequency(10)}},"+10"))),r.a.createElement(m.b.Field,null,r.a.createElement("label",null,"Pitches"),r.a.createElement(p,{rows:[this.getNoteButtons(0,5),this.getNoteButtons(6,11),[r.a.createElement(m.a,{key:"reset",onClick:this.resetNoteNames},"Reset"),r.a.createElement(m.a,{key:"switch",onClick:this.flipNotation},"Rename")]]})),r.a.createElement(m.b.Field,null,r.a.createElement("label",null,"Octave"),r.a.createElement(p,{rows:[t,[r.a.createElement(m.a,{key:"reset",onClick:this.resetOctaves},"Reset"),r.a.createElement(m.a,{key:"all",onClick:this.setAllOctaves},"All")]]})),r.a.createElement(m.b.Field,null,r.a.createElement("label",null,"Waveform"),r.a.createElement(m.a.Group,{fluid:!0},y.map((function(t){return r.a.createElement(m.a,{onClick:function(){return e.setWaveform(t.name)},toggle:!0,active:e.state.waveform===t.name},t.displayName)}))))))}},{key:"componentDidUpdate",value:function(e,t){var n=this.getFrequencies(this.state),a=this.getFrequencies(t);console.log(n),this.state.waveform!==t.waveform?(b.set({oscillator:{type:this.state.waveform}}),b.releaseAll(),b.triggerAttack(n)):(a.forEach((function(e){n.includes(e)||b.triggerRelease(e)})),n.forEach((function(e){a.includes(e)||b.triggerAttack(e)})))}}]),n}(a.Component),O=(a.Component,function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(m.c,{columns:"equal",padded:!0,doubling:!0,stackable:!0,fluid:!0,centered:!0},r.a.createElement(k,null)))}}]),n}(a.Component)),E=n(286),w=n.n(E),C=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function j(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(r.a.createElement(O,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL(".",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat(".","/service-worker.js");C?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):j(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):j(e)}))}}();var F=new w.a;document.addEventListener("click",(function e(){document.removeEventListener("click",e,!1),F.enable()}),!1)}},[[287,1,2]]]);
//# sourceMappingURL=main.11b466c7.chunk.js.map