(this.webpackJsonptuner=this.webpackJsonptuner||[]).push([[0],{287:function(e,t,n){e.exports=n(529)},295:function(e,t,n){},523:function(e,t,n){e.exports=n.p+"static/media/logo.ee7cd8ed.svg"},524:function(e,t,n){},525:function(e,t,n){},529:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(75),i=n.n(r),o=(n(295),n(296),n(55)),s=n(56),l=n(60),u=n(57),m=n(59),h=n(19),d=(n(523),n(524),n(63)),p=n(48),f=(n(525),function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{class:"buttonGrid"},this.props.rows.map((function(e){return c.a.createElement("div",null,e)})))}}]),t}(a.Component)),v=n(188),g=n.n(v),y=[{name:"A",displayNames:["A","A"],step:0},{name:"Bb",displayNames:["B\u266d","A\u266f"],step:1},{name:"B",displayNames:["B","B"],step:2},{name:"C",displayNames:["C","C"],step:3},{name:"Db",displayNames:["D\u266d","C\u266f"],step:4},{name:"D",displayNames:["D","D"],step:5},{name:"Eb",displayNames:["E\u266d","D\u266f"],step:6},{name:"E",displayNames:["E","E"],step:7},{name:"F",displayNames:["F","F"],step:8},{name:"Gb",displayNames:["G\u266d","F\u266f"],step:9},{name:"G",displayNames:["G","G"],step:10},{name:"Ab",displayNames:["A\u266d","G\u266f"],step:11}],N=[{name:"sine",displayName:"Sine"},{name:"triangle",displayName:"Triangle"},{name:"square",displayName:"Square"},{name:"sawtooth",displayName:"Sawtooth"}],b=[2,3,4,5,6];var O=new g.a.PolySynth(b.length*y.length,g.a.Synth).toMaster();O.set({envelope:{attack:.1,decay:2,sustain:.2,release:1},oscillator:{type:"sine"}});var k=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this))).state={pitchCenter:440,currentNoteNames:[],currentOctaves:[4],currentNoteDisplayTypeIndex:0,waveform:"sine"},e.flipNotation=e.flipNotation.bind(Object(p.a)(e)),e.resetNoteNames=e.resetNoteNames.bind(Object(p.a)(e)),e.toggleOctave=e.toggleOctave.bind(Object(p.a)(e)),e.resetOctaves=e.resetOctaves.bind(Object(p.a)(e)),e.setAllOctaves=e.setAllOctaves.bind(Object(p.a)(e)),e.handleFrequencyInputChange=e.handleFrequencyInputChange.bind(Object(p.a)(e)),e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"getNoteButtons",value:function(e,t){for(var n=[],a=e;a<=t;++a)n=[].concat(Object(d.a)(n),[this.getNoteButton(a)]);return n}},{key:"getNoteButton",value:function(e){var t=this;return c.a.createElement(h.a,{className:"noround",key:e,active:this.state.currentNoteNames.includes(y[e]),onClick:function(){return t.toggleNoteName(y[e])},content:y[e].displayNames[this.state.currentNoteDisplayTypeIndex],toggle:!0})}},{key:"generateNoteButtonColumns",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,n=[],a=0;a<t;a+=1){for(var r=[],i=0;i<e;++i)r=[].concat(Object(d.a)(r),[this.getNoteButton(a+t*i)]);n=[].concat(Object(d.a)(n),[c.a.createElement(h.a.Group,{key:a,vertical:!0},r)])}return n}},{key:"flipNotation",value:function(){this.setState({currentNoteDisplayTypeIndex:1===this.state.currentNoteDisplayTypeIndex?0:1})}},{key:"toggleNoteName",value:function(e){this.state.currentNoteNames.includes(e)?this.setState({currentNoteNames:this.state.currentNoteNames.filter((function(t){return t!==e}))}):this.setState({currentNoteNames:[].concat(Object(d.a)(this.state.currentNoteNames),[e])})}},{key:"resetNoteNames",value:function(){this.setState({currentNoteNames:[]})}},{key:"toggleOctave",value:function(e){this.state.currentOctaves.includes(e)?this.setState({currentOctaves:this.state.currentOctaves.filter((function(t){return t!==e}))}):this.setState({currentOctaves:[].concat(Object(d.a)(this.state.currentOctaves),[e])})}},{key:"resetOctaves",value:function(){this.setState({currentOctaves:[]})}},{key:"setAllOctaves",value:function(){this.setState({currentOctaves:b})}},{key:"handleFrequencyInputChange",value:function(e){this.setState({pitchCenter:e.target.value})}},{key:"deltaFrequency",value:function(e){this.setState({pitchCenter:e+Number(this.state.pitchCenter)})}},{key:"setWaveform",value:function(e){this.setState({waveform:e})}},{key:"getFrequencies",value:function(e){var t=[];return e.currentNoteNames.forEach((function(n){e.currentOctaves.forEach((function(a){t=[].concat(Object(d.a)(t),[e.pitchCenter*Math.pow(2,a-4+n.step/12)])}))})),t}},{key:"render",value:function(){for(var e=this,t=[],n=function(n){t=[].concat(Object(d.a)(t),[c.a.createElement(h.a,{content:n,onClick:function(){return e.toggleOctave(n)},key:n,active:e.state.currentOctaves.includes(n),toggle:!0})])},a=2;a<=6;++a)n(a);return c.a.createElement(h.f,{className:"widget"},c.a.createElement(h.d,{size:"huge"},"Tuner"),c.a.createElement(h.b,null,c.a.createElement(h.b.Field,null,c.a.createElement("label",null,"Pitch center"),c.a.createElement(h.e,{fluid:!0,type:"number",placeholder:"Hz",action:!0,size:"huge",value:this.state.pitchCenter,onChange:this.handleFrequencyInputChange,label:"Hz",labelPosition:"left corner"},c.a.createElement("input",{className:"pitch-center"}),c.a.createElement(h.a,{type:"submit",onClick:function(){return e.deltaFrequency(-10)}},"-10"),c.a.createElement(h.a,{type:"submit",onClick:function(){return e.deltaFrequency(-1)}},"-1"),c.a.createElement(h.a,{type:"submit",onClick:function(){return e.deltaFrequency(1)}},"+1"),c.a.createElement(h.a,{type:"submit",onClick:function(){return e.deltaFrequency(10)}},"+10"))),c.a.createElement(h.b.Field,null,c.a.createElement("label",null,"Pitches"),c.a.createElement(f,{rows:[this.getNoteButtons(0,5),this.getNoteButtons(6,11),[c.a.createElement(h.a,{key:"reset",onClick:this.resetNoteNames},"Reset"),c.a.createElement(h.a,{key:"switch",onClick:this.flipNotation},"Rename")]]})),c.a.createElement(h.b.Field,null,c.a.createElement("label",null,"Octave"),c.a.createElement(f,{rows:[t,[c.a.createElement(h.a,{key:"reset",onClick:this.resetOctaves},"Reset"),c.a.createElement(h.a,{key:"all",onClick:this.setAllOctaves},"All")]]})),c.a.createElement(h.b.Field,null,c.a.createElement("label",null,"Waveform"),c.a.createElement(h.a.Group,{fluid:!0},N.map((function(t){return c.a.createElement(h.a,{onClick:function(){return e.setWaveform(t.name)},toggle:!0,active:e.state.waveform===t.name},t.displayName)}))))))}},{key:"componentDidUpdate",value:function(e,t){var n=this.getFrequencies(this.state),a=this.getFrequencies(t);console.log(n),this.state.waveform!==t.waveform?(O.set({oscillator:{type:this.state.waveform}}),O.releaseAll(),O.triggerAttack(n)):(a.forEach((function(e){n.includes(e)||O.triggerRelease(e)})),n.forEach((function(e){a.includes(e)||O.triggerAttack(e)})))}}]),t}(a.Component),E=(a.Component,function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"App"},c.a.createElement(h.c,{columns:"equal",padded:!0,doubling:!0,stackable:!0,fluid:!0,centered:!0},c.a.createElement(k,null)))}}]),t}(a.Component)),w=n(286),C=n.n(w),j=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function F(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(c.a.createElement(E,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL(".",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat(".","/service-worker.js");j?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):F(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):F(e)}))}}();var S=new C.a;document.addEventListener("click",(function e(){document.removeEventListener("click",e,!1),S.enable()}),!1)}},[[287,1,2]]]);
//# sourceMappingURL=main.643e6d25.chunk.js.map